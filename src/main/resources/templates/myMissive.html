<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <title th:text="我的公文"></title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!--<meta http-equiv="refresh" content="240" />&lt;!&ndash;一分钟刷新页次页面&ndash;&gt;-->
   <script th:replace="header :: header"></script>



</head>

<body>
<script th:inline="javascript">

    var userbase64 = [[${userbase64}]];

    var user=/*[[${user.userName}]]*/null;



</script>

<div th:replace="navbar :: navbar(${ud})"></div>


<div class="main-container" id="main-container">
<script type="text/javascript">
    try{ace.settings.check('main-container' , 'fixed')}catch(e){}
</script>

<div class="main-container-inner">
<a class="menu-toggler" id="menu-toggler" href="#">
    <span class="menu-text"></span>
</a>


<div th:replace="slider :: slidermenu(${'dbzx-wdgw'})"></div>

<div class="main-content">
    <div class="breadcrumbs" id="breadcrumbs">
        <script type="text/javascript">
            try{ace.settings.check('breadcrumbs' , 'fixed')}catch(e){}
        </script>

        <ul class="breadcrumb">
            <li>
                <i class="icon-home home-icon"></i>
                <a href="/">首页</a>
            </li>

            <li>
                <a href="#">我的公文</a>
            </li>

        </ul><!-- .breadcrumb -->

        <div class="nav-search" id="nav-search">
            <span class="input-icon">
                <input type="text" placeholder="搜索 ..." class="nav-search-input" id="nav-search-input" autocomplete="off" />
                <i class="icon-search nav-search-icon"></i>
            </span>
        </div><!-- #nav-search -->
    </div>

    <div class="page-content">
    <div id="DelegateWin" style="text-align: center;display: none;width:300px;height:250px">
        <div style="margin-top:50px;margin-left:40px;position: absolute">
            <label class="blue" style="float: left;margin-left:10px;font-size: 16px;margin-top:-30px">
                <span class="lbl" style="font: 16px;width: 100px"> 请输入回退理由：</span>
            </label>
            <!--<input style="margin-top:30px;float:left;width:200px;float:left;position: absolute" id="selectDelegater" required validationMessage="回退理由不能为空！"/>-->
            <input  id="selectDelegater" name="selectDelegater" style="float: left;margin-left:10px;font-size: 16px" class="vali_input" required validationMessage="回退理由不能为空！"/>
            <span class="k-invalid-msg" data-for="selectDelegater"></span>
        </div>
        <div style="margin-top:130px;margin-left:45px;position: absolute;">
            <button class="btn btn-info" type="button" onclick="submitDelegate()">
                <i class="icon-ok bigger-110"></i>
                提交
            </button>

            &nbsp; &nbsp; &nbsp;
            <button class="btn" type="reset" onclick="closeWin()">
                <i class="icon-undo bigger-110"></i>
                取消
            </button>
        </div>


    </div>

    <div class="row">
    <div class="col-xs-12">
    <!-- PAGE CONTENT BEGINS -->
    <div class="tabbable">
    <ul class="nav nav-tabs padding-12 tab-color-blue background-blue" id="myTab4">
        <li th:class="${activeitem=='ybgw'}?'active'">
            <a data-toggle="tab" href="#ybgw" >已完成公文</a>
        </li>

        <li th:class="${activeitem=='wbgw'}?'active'">
             <a data-toggle="tab" href="#wbgw">未完成公文</a>
         </li>

        <li th:class="${activeitem=='zsgw'}?'active'">
            <a data-toggle="tab" href="#zsgw" >主送公文</a>
        </li>
        <li th:class="${activeitem=='csgw'}?'active'">
            <a data-toggle="tab" href="#csgw" >抄送公文</a>
        </li>
        <li th:if="${publishList!=null}" th:class="${activeitem=='yfgw'}?'active'">
            <a data-toggle="tab" href="#yfgw" >所有发文</a>
        </li>
    </ul>

    <div class="tab-content" style="height:800px">
    <div id="ybgw" th:class="${activeitem=='ybgw'}?'tab-pane in active':'tab-pane'">

        <div id="completeDiv" style="display: none" >
            <table class="table table-striped table-bordered table-hover no-margin-bottom no-border-top">
                <thead>
                <tr>
                    <th style="text-align: center;vertical-align:middle">公文类型</th>
                    <th style="text-align: center;vertical-align:middle">任务名称</th>
                    <th style="text-align: center;vertical-align:middle">公文标题</th>
                    <th style="text-align: center;vertical-align:middle">任务时间</th>
                    <th style="text-align: center;vertical-align:middle;width:290px"> 操作</th>
                </tr>
                </thead>
            </table>
            <div class="well" style="height:595px">

                <h3 class="grey lighter smaller">
											<span class="blue bigger-125">
												<i class="icon-sitemap"></i>
												提示
											</span>
                    您当前没有已完成的公文
                </h3>

                <hr />
                <h5 class="lighter smaller">您也可以搜索并查阅历史公文</h5>

                <div>
                    <form class="form-search">
												<span class="input-icon align-middle">
													<i class="icon-search"></i>

													<input type="text" class="search-query" class="nav-search-input" id="nav-search-input2"  placeholder="请输入公文信息..." />
												</span>

                    </form>

                    <div class="space"></div>

                </div>

                <hr />
                <div class="space"></div>


            </div>
        </div>

        <div id="displayDiv" style="display: none" >

            <div class="dataTables_filter" id="taskTable_filter">
            <label>快捷查询: <input type="text" class="search-query" class="nav-search-input" id="filterData" placeholder="请输入关键字" ></label>
        </div>

            <div class="table-responsive" id="completedTable" >
                <table  class="table  table-bordered table-hover no-margin-bottom no-border-top " style="background-color: #FFFFFF" id="taskTable" onmousedown="trSelect()">
                    <thead>
                    <tr>
                        <th style="text-align: center;vertical-align:middle;width:90px">附件修改</th>
                        <th style="text-align: center;vertical-align:middle;width:120px">公文类型</th>
                        <!--<th style="text-align: center;vertical-align:middle">上一步执行人</th>-->
                        <th style="text-align: center;vertical-align:middle;width:160px">任务名称</th>
                        <th style="text-align: center;vertical-align:middle;width:160px">当前任务</th>
                        <!--<th style="text-align: center;vertical-align:middle">追回</th>-->
                        <th style="text-align: center;vertical-align:middle">公文标题</th>
                        <th style="text-align: center;vertical-align:middle;width:170px">任务时间</th>
                        <th style="text-align: center;vertical-align:middle;width:210px"> 操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr style="height:39px" th:each="taskDone: ${tasksDone}">
                        <td style="text-align: center;vertical-align:middle" th:text="${taskDone.updateFlag=='1'}?'附件已变更':'附件未变更'"></td>
                        <td style="text-align: center;vertical-align:middle" th:text="${taskDone.typeTitle}"></td>
                        <!--<td style="text-align: center;vertical-align:middle" th:text="${taskDone.preOwner}"></td>-->
                        <td style="text-align: center;vertical-align:middle" th:text="${taskDone.name}"></td>
                        <td style="text-align: center;vertical-align:middle" th:text="${taskDone.taskCondition}"></td>
                        <!--<td style="text-align: center;vertical-align:middle" th:text="${taskDone.rollBackFlag}"></td>-->
                        <td style="text-align: center;vertical-align:middle" th:utext="${taskDone.missiveTitle}"></td>
                        <td style="text-align: center;vertical-align:middle" th:text="${taskDone.taskEndTime}"></td>
                        <td style="text-align: left;vertical-align:middle"> <a th:href="@{/historyProcess/{instanceid}(instanceid=${taskDone.processInstanceId})}" target="_blank" class="btn btn-minier bigger btn-success"><i class="icon-check"></i>任务信息</a>&nbsp
                            <a th:href="@{${taskDone.htmlUrl}}"  class="btn btn-minier bigger btn-warning"><i class="icon-check"  th:text="${taskDone.cardTitle}"></i></a>&nbsp
                            <p></p>
                            <a th:href="@{/pdfViewer/web/viewer.html?file=/pdf/{missivetype}/{instanceid}/{version}/pdf2Pad/{taskid}.pdf &name={missiveTittle}(missivetype=${taskDone.missiveType},instanceid=${taskDone.processInstanceId},version=${taskDone.versionNum},taskid=${taskDone.lastTaskId},missiveTittle=${taskDone.missiveTitle})}"
                               class="btn btn-minier bigger btn-primary" target="_blank"><i class="icon-check"></i>查看公文</a>&nbsp
                            <a class="btn btn-minier bigger btn-danger" th:attr="data-taskId=${taskDone.id},data-instantId=${taskDone.processInstanceId},data-nextTaskId=${taskDone.nextTaskId}" th:disabled="${!taskDone.rollBackFlag}" th:style="${!taskDone.rollBackFlag}?'display:none':''"  onclick="delegateTask(this)"><i class="icon-check"></i>任务回退</a></td>

                    </tr>
                    </tbody>
                </table>
                <div class="modal-footer no-margin-top" style="margin-bottom: 1px" id="lessThanFive">
                    <ul class="pagination pull-right no-margin">

                        <li  th:class="${DonePage==1}?'prev disabled':'prev'">
                            <a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1/1(pagenum=${DonePage-1})}" th:onclick="${DonePage==1}?'return false'">
                                <i class="icon-double-angle-left"></i>
                            </a>
                        </li>
                        <li th:each="num1: ${#numbers.sequence(1,taskDoneTotalNum)}" th:class="${num1==DonePage}?'active'">
                            <a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1/1(pagenum=${num1})}" th:text="${num1}"></a>
                        </li>
                        <li th:class="${DonePage==taskDoneTotalNum}?'next disabled':'next'">
                            <a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1/1(pagenum=${DonePage+1})}" th:onclick="${DonePage==taskDoneTotalNum}?'return false'">
                                <i class="icon-double-angle-right"></i>
                            </a>
                        </li>


                    </ul>
                </div>
                <div class="modal-footer no-margin-top" style="margin-bottom: 1px" id="moreThanFive">
                    <ul class="pagination pull-right no-margin">

                        <li  th:class="${DonePage==1}?'prev disabled':'prev'">
                            <a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1/1(pagenum=${DonePage-1})}" th:onclick="${DonePage==1}?'return false'">
                                <i class="icon-double-angle-left"></i>
                            </a>
                        </li>
                        <!--<li  id="firstPage" th:each="num1:${#numbers.sequence(1, 1)}" th:class="${num1==DonePage}?'active'" >-->
                        <!--<a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1(pagenum=${num1})}" th:text="${num1}"></a>-->
                        <!--</li>-->
                        <li id="pre" th:each="num1:${#numbers.sequence(DonePage-4,DonePage-4)}" th:class="${num1==DonePage}?'active'" >
                            <a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1/1(pagenum=${num1})}" th:text="${num1}"></a>
                        </li>
                        <li id="front" th:each="num1:${#numbers.sequence(DonePage-3,DonePage-3)}" th:class="${num1==DonePage}?'active'" >
                            <a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1/1(pagenum=${num1})}" th:text="${num1}"></a>
                        </li>
                        <li id="first" th:each="num1:${#numbers.sequence(DonePage-2,DonePage-2)}" th:class="${num1==DonePage}?'active'" >
                            <a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1/1(pagenum=${num1})}" th:text="${num1}"></a>
                        </li>
                        <li id="start" th:each="num1:${#numbers.sequence(DonePage-1,DonePage-1)}" th:class="${num1==DonePage}?'active'" >
                            <a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1/1(pagenum=${num1})}" th:text="${num1}"></a>
                        </li>
                        <li th:each="num1: ${#numbers.sequence(DonePage,DonePage)}" th:class="${num1==DonePage}?'active'">
                            <a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1/1(pagenum=${num1})}" th:text="${num1}"></a>
                        </li>

                        <li id="end" th:each="num1: ${#numbers.sequence(DonePage+1,DonePage+1)}" th:class="${num1==DonePage}?'active'">
                            <a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1/1(pagenum=${num1})}" th:text="${num1}"></a>
                        </li>
                        <li id="last" th:each="num1: ${#numbers.sequence(DonePage+2,DonePage+2)}" th:class="${num1==DonePage}?'active'">
                            <a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1/1(pagenum=${num1})}" th:text="${num1}"></a>
                        </li>
                        <li id="rear" th:each="num1: ${#numbers.sequence(DonePage+3,DonePage+3)}" th:class="${num1==DonePage}?'active'">
                            <a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1/1(pagenum=${num1})}" th:text="${num1}"></a>
                        </li>
                        <li id="final" th:each="num1: ${#numbers.sequence(DonePage+4,DonePage+4)}" th:class="${num1==DonePage}?'active'">
                            <a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1/1(pagenum=${num1})}" th:text="${num1}"></a>
                        </li>
                        <!--<li id="lastPage"  th:each="num1: ${#numbers.sequence(taskDoneTotalNum,taskDoneTotalNum)}" th:class="${num1==DonePage}?'active'">-->
                        <!--<a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1(pagenum=${num1})}" th:text="${num1}"></a>-->
                        <!--</li>-->
                        <li th:class="${DonePage==taskDoneTotalNum}?'next disabled':'next'">
                            <a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1/1(pagenum=${DonePage+1})}" th:onclick="${DonePage==taskDoneTotalNum}?'return false'">
                                <i class="icon-double-angle-right"></i>
                            </a>
                        </li>


                        <li  >
                            <label>&nbsp共计</label>
                            <label th:text="${taskDoneTotalNum}"></label>
                            <label>页&nbsp跳转至：</label>
                            <input type="text" style="width: 45px;margin-top: 3px " id="redirect" class="redirect" onchange="changePage(this)">
                        </li>



                    </ul>
                </div>
            </div>


            <div class="table-responsive " id="secondDiv" style="display: none" >
                <table  id="filterTable" class="table  table-bordered table-hover no-margin-bottom no-border-top " style="background-color: #FFFFFF" onmousedown="trSelect()">

                </table>
            </div>



        </div>
    </div>

    <div id="wbgw" th:class="${activeitem=='wbgw'}?'tab-pane in active':'tab-pane'">

        <div class="dataTables_filter" id="taskTable_filter2">
            <label>快捷查询: <input type="text" class="search-query" class="nav-search-input" id="filterData2" placeholder="请输入关键字" ></label>
        </div>

         <div class="table-responsive " id="firstDiv2">
             <table class="table table-striped table-bordered table-hover no-margin-bottom no-border-top" id="uncompleteTable" style="background-color: #FFFFFF" onmousedown="trSelectforTask()">
                 <thead>
                 <tr>
                     <th style="text-align: center;vertical-align:middle;width: 120px" >公文类型</th>
                     <th style="text-align: center;vertical-align:middle;width: 120px" >任务人</th>
                     <th style="text-align: center;vertical-align:middle;width:160px">当前进行任务</th>
                     <th style="text-align: center;vertical-align:middle">公文标题</th>
                     <th style="text-align: center;vertical-align:middle;width: 170px">任务时间</th>
                     <th style="text-align: center;vertical-align:middle;width:200px"> 操作</th>
                 </tr>
                 </thead>
                 <tbody>

                 <tr style="height:50px" th:each="taskIng: ${tasksIng}">
                     <td style="text-align: center;vertical-align:middle" th:text="${taskIng.typeTitle}"></td>
                     <td style="text-align: center;vertical-align:middle" th:text="${taskIng.taskAssName}"></td>
                     <td style="text-align: center;vertical-align:middle" th:text="${taskIng.taskCondition}"></td>
                     <td style="text-align: center;vertical-align:middle" th:utext="${taskIng.missiveTitle}"></td>
                     <td style="text-align: center;vertical-align:middle" th:text="${taskIng.taskEndTime}"></td>
                     <td style="text-align: center;vertical-align:middle"> <a th:href="@{/historyProcess/{instanceid}(instanceid=${taskIng.processInstanceId})}" class="btn btn-minier bigger btn-success" target="_blank"><i class="icon-check"></i>任务信息</a>&nbsp&nbsp&nbsp
                         <a th:href="@{/pdfViewer/web/viewer.html?file=/pdf/{missivetype}/{instanceid}/{version}/pdf2Pad/{taskid}.pdf &name={missiveTittle}(missivetype=${taskIng.missiveType},instanceid=${taskIng.processInstanceId},version=${taskIng.versionNum},taskid=${taskIng.lastTaskId},missiveTittle=${taskIng.missiveTitle})}"
                            class="btn btn-minier bigger btn-primary" target="_blank"><i class="icon-check"></i>查看公文</a></td>
                 </tr>
                 </tbody>
             </table>
             <div class="modal-footer no-margin-top" style="margin-bottom: 1px" id="lessfive">
                 <ul class="pagination pull-right no-margin">
                     <li  th:class="${IngPage==1}?'prev disabled':'prev'">
                         <a th:href="@{/wdgw/wbgw/1/{pagenum2}/1/1/1(pagenum2=${IngPage-1})}">
                             <i class="icon-double-angle-left"></i>
                         </a>
                     </li>
                     <li th:each="num2: ${#numbers.sequence(1,taskIngPagesNum)}" th:class="${num2==IngPage}?'active'">
                         <a th:href="@{/wdgw/wbgw/1/{pagenum2}/1/1/1(pagenum2=${num2})}" th:text="${num2}"></a>
                     </li>
                     <li th:class="${IngPage==taskIngPagesNum}?'next disabled':'next'">
                         <a th:href="@{/wdgw/wbgw/1/{pagenum2}/1/1/1(pagenum2=${IngPage+1})}">
                             <i class="icon-double-angle-right"></i>
                         </a>
                     </li>
                 </ul>
             </div>
             <div class="modal-footer no-margin-top" style="margin-bottom: 1px" id="overfive">
                 <ul class="pagination pull-right no-margin">

                     <li  th:class="${IngPage==1}?'prev disabled':'prev'">
                         <a th:href="@{/wdgw/wbgw/1/{pagenum2}/1/1/1(pagenum2=${IngPage-1})}" th:onclick="${IngPage==1}?'return false'">
                             <i class="icon-double-angle-left"></i>
                         </a>
                     </li>
                     <!--<li  id="firstPage" th:each="num1:${#numbers.sequence(1, 1)}" th:class="${num1==DonePage}?'active'" >-->
                     <!--<a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1(pagenum=${num1})}" th:text="${num1}"></a>-->
                     <!--</li>-->
                     <li id="pre1" th:each="num1:${#numbers.sequence(IngPage-4,IngPage-4)}" th:class="${num1==IngPage}?'active'" >
                         <a th:href="@{/wdgw/wbgw/1/{pagenum2}/1/1/1(pagenum2=${num1})}" th:text="${num1}"></a>
                     </li>
                     <li id="front1" th:each="num1:${#numbers.sequence(IngPage-3,IngPage-3)}" th:class="${num1==IngPage}?'active'" >
                         <a th:href="@{/wdgw/wbgw/1/{pagenum2}/1/1/1(pagenum2=${num1})}" th:text="${num1}"></a>
                     </li>
                     <li id="first1" th:each="num1:${#numbers.sequence(IngPage-2,IngPage-2)}" th:class="${num1==IngPage}?'active'" >
                         <a th:href="@{/wdgw/wbgw/1/{pagenum2}/1/1/1(pagenum2=${num1})}" th:text="${num1}"></a>
                     </li>
                     <li id="start1" th:each="num1:${#numbers.sequence(IngPage-1,IngPage-1)}" th:class="${num1==IngPage}?'active'" >
                         <a th:href="@{/wdgw/wbgw/1/{pagenum2}/1/1/1(pagenum2=${num1})}" th:text="${num1}"></a>
                     </li>
                     <li th:each="num1: ${#numbers.sequence(IngPage,IngPage)}" th:class="${num1==IngPage}?'active'">
                         <a th:href="@{/wdgw/wbgw/1/{pagenum2}/1/1/1(pagenum2=${num1})}" th:text="${num1}"></a>
                     </li>

                     <li id="end1" th:each="num1: ${#numbers.sequence(IngPage+1,IngPage+1)}" th:class="${num1==IngPage}?'active'">
                         <a th:href="@{/wdgw/wbgw/1/{pagenum2}/1/1/1(pagenum2=${num1})}" th:text="${num1}"></a>
                     </li>
                     <li id="last1" th:each="num1: ${#numbers.sequence(IngPage+2,IngPage+2)}" th:class="${num1==IngPage}?'active'">
                         <a th:href="@{/wdgw/wbgw/1/{pagenum2}/1/1/1(pagenum2=${num1})}" th:text="${num1}"></a>
                     </li>
                     <li id="rear1" th:each="num1: ${#numbers.sequence(IngPage+3,IngPage+3)}" th:class="${num1==IngPage}?'active'">
                         <a th:href="@{/wdgw/wbgw/1/{pagenum2}/1/1/1(pagenum2=${num1})}" th:text="${num1}"></a>
                     </li>
                     <li id="final1" th:each="num1: ${#numbers.sequence(IngPage+4,IngPage+4)}" th:class="${num1==IngPage}?'active'">
                         <a th:href="@{/wdgw/wbgw/1/{pagenum2}/1/1/1(pagenum2=${num1})}" th:text="${num1}"></a>
                     </li>
                     <!--<li id="lastPage"  th:each="num1: ${#numbers.sequence(taskDoneTotalNum,taskDoneTotalNum)}" th:class="${num1==DonePage}?'active'">-->
                     <!--<a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1(pagenum=${num1})}" th:text="${num1}"></a>-->
                     <!--</li>-->
                     <li th:class="${IngPage==taskIngPagesNum}?'next disabled':'next'">
                         <a th:href="@{/wdgw/wbgw/1/{pagenum2}/1/1/1(pagenum2=${IngPage+1})}" th:onclick="${IngPage==taskIngPagesNum}?'return false'">
                             <i class="icon-double-angle-right"></i>
                         </a>
                     </li>


                     <li  >
                         <label>&nbsp共计</label>
                         <label th:text="${taskIngPagesNum}"></label>
                         <label>页&nbsp跳转至：</label>
                         <input type="text" style="width: 45px;margin-top: 3px " id="redirect2" class="redirect" onchange="changePage2(this)">
                     </li>



                 </ul>
             </div>
         </div>
         <div class="table-responsive " id="secondDiv2" style="display: none" >
            <table  id="filterTable2" class="table  table-bordered table-hover no-margin-bottom no-border-top " style="background-color: #FFFFFF" onmousedown="trSelect()">

            </table>
        </div>



     </div>

    <div id="yfgw" th:if="${publishList!=null}" th:class="${activeitem=='yfgw'}?'tab-pane in active':'tab-pane'">

        <div class="dataTables_filter" id="taskTable_filter3">
            <label>快捷查询: <input type="text" class="search-query" class="nav-search-input" id="filterData3" placeholder="请输入关键字" ></label>
        </div>

        <div class="table-responsive " id="firstDiv3">
            <table class="table table-striped table-bordered table-hover no-margin-bottom no-border-top" id="uncompleteTable4" style="background-color: #FFFFFF" onmousedown="ttrSelectforTask()">
                <thead>
                <tr>
                    <th style="text-align: center;vertical-align:middle;width: 120px" >公文类型</th>
                    <!--<th style="text-align: center;vertical-align:middle;width: 120px" >任务人</th>-->
                    <th style="text-align: center;vertical-align:middle;width:160px">当前进行任务</th>
                    <th style="text-align: center;vertical-align:middle">公文标题</th>
                    <th style="text-align: center;vertical-align:middle;width: 170px">任务时间</th>
                    <th style="text-align: center;vertical-align:middle;width:200px"> 操作</th>
                </tr>
                </thead>
                <tbody>

                <tr style="height:50px" th:each="taskIng: ${publishList}">
                    <td style="text-align: center;vertical-align:middle" th:text="${taskIng.typeTitle}"></td>
                    <!--<td style="text-align: center;vertical-align:middle" th:text="${taskIng.taskAssName}"></td>-->
                    <td style="text-align: center;vertical-align:middle" th:text="${taskIng.taskCondition}"></td>
                    <td style="text-align: center;vertical-align:middle" th:utext="${taskIng.missiveTitle}"></td>
                    <td style="text-align: center;vertical-align:middle" th:text="${taskIng.taskEndTime}"></td>
                    <td style="text-align: center;vertical-align:middle">
                        <a th:href="@{/historyProcess/{instanceid}(instanceid=${taskIng.processInstanceId})}" class="btn btn-minier bigger btn-success" target="_blank"><i class="icon-check"></i>任务信息</a>&nbsp&nbsp&nbsp
                        <a th:href="@{/pdfViewer/web/viewer.html?file=/pdf/{missivetype}/{instanceid}/{version}/pdf2Pad/{taskid}.pdf &name={missiveTittle}(missivetype=${taskIng.missiveType},instanceid=${taskIng.processInstanceId},version=${taskIng.versionNum},taskid=${taskIng.lastTaskId},missiveTittle=${taskIng.missiveTitle})}"
                           class="btn btn-minier bigger btn-primary" target="_blank"><i class="icon-check"></i>查看公文</a></td>
                </tr>
                </tbody>
            </table>
            <div class="modal-footer no-margin-top" style="margin-bottom: 1px" id="lessfive3">
                <ul class="pagination pull-right no-margin">
                    <li  th:class="${PublishPage==1}?'prev disabled':'prev'">
                        <a th:href="@{/wdgw/yfgw/1/1/1/1/{pagenum2}(pagenum2=${PublishPage-1})}">
                            <i class="icon-double-angle-left"></i>
                        </a>
                    </li>
                    <li th:each="num2: ${#numbers.sequence(1,PublishPageNum)}" th:class="${num2==PublishPage}?'active'">
                        <a th:href="@{/wdgw/yfgw/1/1/1/1/{pagenum2}(pagenum2=${num2})}" th:text="${num2}"></a>
                    </li>
                    <li th:class="${PublishPage==PublishPageNum}?'next disabled':'next'">
                        <a th:href="@{/wdgw/yfgw/1/1/1/1/{pagenum2}(pagenum2=${PublishPage+1})}">
                            <i class="icon-double-angle-right"></i>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="modal-footer no-margin-top" style="margin-bottom: 1px" id="overfive3">
                <ul class="pagination pull-right no-margin">

                    <li  th:class="${PublishPage==1}?'prev disabled':'prev'">
                        <a th:href="@{/wdgw/yfgw/1/1/1/1/{pagenum2}(pagenum2=${PublishPage-1})}" th:onclick="${PublishPage==1}?'return false'">
                            <i class="icon-double-angle-left"></i>
                        </a>
                    </li>
                    <!--<li  id="firstPage" th:each="num1:${#numbers.sequence(1, 1)}" th:class="${num1==DonePage}?'active'" >-->
                    <!--<a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1(pagenum=${num1})}" th:text="${num1}"></a>-->
                    <!--</li>-->
                    <li id="pre3" th:each="num1:${#numbers.sequence(PublishPage-4,PublishPage-4)}" th:class="${num1==PublishPage}?'active'" >
                        <a th:href="@{/wdgw/yfgw/1/1/1/1/{pagenum2}(pagenum2=${num1})}" th:text="${num1}"></a>
                    </li>
                    <li id="front3" th:each="num1:${#numbers.sequence(PublishPage-3,PublishPage-3)}" th:class="${num1==PublishPage}?'active'" >
                        <a th:href="@{/wdgw/yfgw/1/1/1/1/{pagenum2}(pagenum2=${num1})}" th:text="${num1}"></a>
                    </li>
                    <li id="first3" th:each="num1:${#numbers.sequence(PublishPage-2,PublishPage-2)}" th:class="${num1==PublishPage}?'active'" >
                        <a th:href="@{/wdgw/yfgw/1/1/1/1/{pagenum2}(pagenum2=${num1})}" th:text="${num1}"></a>
                    </li>
                    <li id="start3" th:each="num1:${#numbers.sequence(PublishPage-1,PublishPage-1)}" th:class="${num1==PublishPage}?'active'" >
                        <a th:href="@{/wdgw/yfgw/1/1/1/1/{pagenum2}(pagenum2=${num1})}" th:text="${num1}"></a>
                    </li>
                    <li th:each="num1: ${#numbers.sequence(PublishPage,PublishPage)}" th:class="${num1==PublishPage}?'active'">
                        <a th:href="@{/wdgw/yfgw/1/1/1/1/{pagenum2}(pagenum2=${num1})}" th:text="${num1}"></a>
                    </li>

                    <li id="end3" th:each="num1: ${#numbers.sequence(PublishPage+1,PublishPage+1)}" th:class="${num1==PublishPage}?'active'">
                        <a th:href="@{/wdgw/yfgw/1/1/1/1/{pagenum2}(pagenum2=${num1})}" th:text="${num1}"></a>
                    </li>
                    <li id="last3" th:each="num1: ${#numbers.sequence(PublishPage+2,PublishPage+2)}" th:class="${num1==PublishPage}?'active'">
                        <a th:href="@{/wdgw/yfgw/1/1/1/1/{pagenum2}(pagenum2=${num1})}" th:text="${num1}"></a>
                    </li>
                    <li id="rear3" th:each="num1: ${#numbers.sequence(PublishPage+3,PublishPage+3)}" th:class="${num1==PublishPage}?'active'">
                        <a th:href="@{/wdgw/yfgw/1/1/1/1/{pagenum2}(pagenum2=${num1})}" th:text="${num1}"></a>
                    </li>
                    <li id="final3" th:each="num1: ${#numbers.sequence(PublishPage+4,PublishPage+4)}" th:class="${num1==PublishPage}?'active'">
                        <a th:href="@{/wdgw/yfgw/1/1/1/1/{pagenum2}(pagenum2=${num1})}" th:text="${num1}"></a>
                    </li>
                    <!--<li id="lastPage"  th:each="num1: ${#numbers.sequence(taskDoneTotalNum,taskDoneTotalNum)}" th:class="${num1==DonePage}?'active'">-->
                    <!--<a th:href="@{/wdgw/ybgw/{pagenum}/1/1/1(pagenum=${num1})}" th:text="${num1}"></a>-->
                    <!--</li>-->
                    <li th:class="${PublishPage==PublishPageNum}?'next disabled':'next'">
                        <a th:href="@{/wdgw/yfgw/1/1/1/1/{pagenum2}(pagenum2=${PublishPage+1})}" th:onclick="${PublishPage==PublishPageNum}?'return false'">
                            <i class="icon-double-angle-right"></i>
                        </a>
                    </li>


                    <li  >
                        <label>&nbsp共计</label>
                        <label th:text="${PublishPageNum}"></label>
                        <label>页&nbsp跳转至：</label>
                        <input type="text" style="width: 45px;margin-top: 3px " id="redirect3" class="redirect" onchange="changePage3(this)">
                    </li>



                </ul>
            </div>
        </div>
        <div class="table-responsive " id="secondDiv3" style="display: none" >
            <table  id="filterTable3" class="table  table-bordered table-hover no-margin-bottom no-border-top " style="background-color: #FFFFFF" onmousedown="trSelect()">

            </table>
        </div>



    </div>


    <div id="zsgw" th:class="${activeitem=='zsgw'}?'tab-pane in active':'tab-pane'">
        <div id="completeDiv2" style="display: none" >
            <div class="alert alert-block alert-success">
                <button type="button" class="close" data-dismiss="alert">
                    <i class="icon-remove"></i>
                </button>

                <i class="icon-info green"></i>

                主送公文提醒：您当前未收到主送公文！

            </div>


            <table class="table table-striped table-bordered table-hover no-margin-bottom no-border-top">
                <thead>
                <tr>
                    <th style="text-align: center">已读/未读</th>
                    <th style="text-align: center">状态</th>
                    <th style="text-align: center;vertical-align:middle">公文类型</th>
                    <th style="text-align: center;vertical-align:middle">公文标题</th>
                    <th style="text-align: center;vertical-align:middle">送达时间</th>
                    <th style="text-align: center;vertical-align:middle;width:290px"> 操作</th>
                </tr>
                </thead>
            </table>
            <div class="well" style="height:595px">

                <h3 class="grey lighter smaller">
											<span class="blue bigger-125">
												<i class="icon-sitemap"></i>
												提示
											</span>
                    您当前没有主送公文
                </h3>

                <hr />
                <h5 class="lighter smaller">您也可以搜索并查阅历史公文</h5>

                <div>
                    <form class="form-search">
												<span class="input-icon align-middle">
													<i class="icon-search"></i>

													<input type="text" class="search-query" class="nav-search-input" id="nav-search-input3"  placeholder="请输入公文信息..." />
												</span>

                    </form>

                    <div class="space"></div>

                </div>

                <hr />
                <div class="space"></div>


            </div>
        </div>

        <div id="displayDiv2" style="display: none" >


            <div class="alert alert-block alert-success">
                <button type="button" class="close" data-dismiss="alert">
                    <i class="icon-remove"></i>
                </button>

                <i class="icon-info green"></i>

                主送公文提醒：您当日收到
                <strong class="red" th:text="${missiveMainSendDatest}">

                </strong>封主送公文！





            </div>
            <div class="modal-body no-padding">
                <table class="table table-striped table-bordered table-hover no-margin-bottom no-border-top" >
                    <thead>
                    <tr>
                        <th style="text-align: center">状态</th>
                        <th style="text-align: center;vertical-align:middle">公文类型</th>
                        <th style="text-align: center;vertical-align:middle">公文标题</th>
                        <th style="text-align: center;vertical-align:middle">送达时间</th>
                        <th style="text-align: center;vertical-align:middle;width:220px"> 操作</th>
                    </tr>
                    </thead>
                    <tbody>

                    <tr style="height:39px" th:each="mainSendmissive: ${mainSend}">
                        <td style="text-align: center;vertical-align:middle;width:180px" th:text="${mainSendmissive.missiveFlag}" ></td>
                        <td style="text-align: center;vertical-align:middle;width:100px" th:text="主送公文"></td>
                        <td style="text-align: center;vertical-align:middle" th:text="${mainSendmissive.missiveTittle}"></td>
                        <td style="text-align: center;vertical-align:middle;width:120px" th:text="${mainSendmissive.createdDate}"></td>
                        <td style="text-align: center;vertical-align:middle">
                            <a th:href="@{/historyProcess/{instanceid}(instanceid=${mainSendmissive.processID})}" class="btn btn-minier bigger btn-success" target="_blank"><i class="icon-check"></i>任务信息</a>&nbsp&nbsp&nbsp
                            <a th:href="@{/pdfViewer/web/viewer.html?file=/pdf/missivePublish/pdf2Pad/{instanceid} &name={missiveTittle}(instanceid=${mainSendmissive.processID},missiveTittle=${mainSendmissive.missiveTittle})}"
                                class="btn btn-minier bigger btn-primary" target="_blank"><i class="icon-check"></i>查看公文</a></td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-footer no-margin-top" style="margin-bottom: 1px">
                <ul class="pagination pull-right no-margin">
                    <li  th:class="${mainSendPage==1}?'prev disabled':'prev'">
                        <a th:href="@{/wdgw/zsgw/1/1/{pagenum3}/1/1(pagenum3=${mainSendPage-1})}" th:onclick="${mainSendPage==1}?'return false'">
                            <i class="icon-double-angle-left"></i>
                        </a>
                    </li>
                    <li th:each="num3: ${#numbers.sequence(1,mainSendTotalNum)}" th:class="${num3==mainSendPage}?'active'">
                        <a th:href="@{/wdgw/zsgw/1/1/{pagenum}/1/1(pagenum=${num3})}" th:text="${num3}"></a>
                    </li>
                    <li th:class="${mainSendPage==mainSendTotalNum}?'next disabled':'next'">
                        <a th:href="@{/wdgw/zsgw/1/1/{pagenum3}/1/1(pagenum3=${mainSendPage+1})}" th:onclick="${mainSendPage==mainSendTotalNum}?'return false'">
                            <i class="icon-double-angle-right"></i>
                        </a>
                    </li>

                </ul>
            </div>
        </div>

    </div>
    <div id="csgw" th:class="${activeitem=='csgw'}?'tab-pane in active':'tab-pane'">

        <div id="completeDiv3" style="display: none" >
            <div class="alert alert-block alert-success">
                <button type="button" class="close" data-dismiss="alert">
                    <i class="icon-remove"></i>
                </button>

                <i class="icon-info green"></i>

                主送公文提醒：您当前未收到抄送公文！

            </div>


            <table class="table table-striped table-bordered table-hover no-margin-bottom no-border-top">
                <thead>
                <tr>
                    <th style="text-align: center">状态</th>
                    <th style="text-align: center;vertical-align:middle">公文类型</th>
                    <th style="text-align: center;vertical-align:middle">公文标题</th>
                    <th style="text-align: center;vertical-align:middle">送达时间</th>
                    <th style="text-align: center;vertical-align:middle;width:290px"> 操作</th>
                </tr>
                </thead>
            </table>
            <div class="well" style="height:595px">

                <h3 class="grey lighter smaller">
											<span class="blue bigger-125">
												<i class="icon-sitemap"></i>
												提示
											</span>
                    您当前没有抄送公文
                </h3>

                <hr />
                <h5 class="lighter smaller">您也可以搜索并查阅历史公文</h5>

                <div>
                    <form class="form-search">
												<span class="input-icon align-middle">
													<i class="icon-search"></i>

													<input type="text" class="search-query" class="nav-search-input" id="nav-search-input4"  placeholder="请输入公文信息..." />
												</span>

                    </form>

                    <div class="space"></div>

                </div>

                <hr />
                <div class="space"></div>


            </div>
        </div>

        <div id="displayDiv3" style="display: none" >

            <div class="alert alert-block alert-success">
                <button type="button" class="close" data-dismiss="alert">
                    <i class="icon-remove"></i>
                </button>

                <i class="icon-info green"></i>

                抄送公文提醒：您当日收到
                <strong class="red" th:text="${missiveCopyToDatest}">

                </strong>封抄送公文！





            </div>
            <div class="modal-body no-padding">
                <table class="table table-striped table-bordered table-hover no-margin-bottom no-border-top" >
                    <thead>
                    <tr>
                        <th style="text-align: center">状态</th>
                        <th style="text-align: center;vertical-align:middle">公文类型</th>
                        <th style="text-align: center;vertical-align:middle">公文标题</th>
                        <th style="text-align: center;vertical-align:middle">送达时间</th>
                        <th style="text-align: center;vertical-align:middle;width:290px"> 操作</th>
                    </tr>
                    </thead>
                    <tbody>

                    <tr style="height:39px" th:each="copyToMissive: ${copyTo}">
                        <td style="text-align: center" th:text="${copyToMissive.missiveFlag}"></td>
                        <td style="text-align: center;vertical-align:middle" th:text="抄送公文"></td>
                        <td style="text-align: center;vertical-align:middle" th:text="${copyToMissive.missiveTittle}"></td>
                        <td style="text-align: center;vertical-align:middle" th:text="${copyToMissive.createdDate}"></td>
                        <td style="text-align: center;vertical-align:middle">
                            <a th:href="@{/pdfViewer/web/viewer.html?file=/pdf/missivePublish/pdf2Pad/{instanceid} &name={missiveTittle}(instanceid=${copyToMissive.processID},missiveTittle=${copyToMissive.missiveTittle})}"
                               class="btn btn-minier bigger btn-primary" target="_blank"><i class="icon-check"></i>查看公文</a></td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-footer no-margin-top" style="margin-bottom: 1px">
                <ul class="pagination pull-right no-margin">
                    <li  th:class="${copyToPage==1}?'prev disabled':'prev'">
                        <a th:disabled="${copyToPage==1}" th:href="@{/wdgw/csgw/1/1/1/{pagenum4}/1(pagenum4=${copyToPage-1})}" th:onclick="${copyToPage==1}?'return false'">
                            <i class="icon-double-angle-left"></i>
                        </a>
                    </li>
                    <li th:each="num4: ${#numbers.sequence(1,copyToTotalNum)}" th:class="${num4==copyToPage}?'active'">
                        <a th:href="@{/wdgw/csgw/1/1/1/{pagenum}/1(pagenum=${num4})}" th:text="${num4}"></a>
                    </li>
                    <li th:class="${copyToPage==copyToTotalNum}?'next disabled':'next'">
                        <a th:href="@{/wdgw/csgw/1/1/1/{pagenum3}/1(pagenum3=${copyToPage+1})}" th:onclick="${copyToPage==copyToTotalNum}?'return false'">
                            <i class="icon-double-angle-right"></i>
                        </a>
                    </li>

                </ul>
            </div>
        </div>
    </div>
    </div>
    </div>

                <!-- PAGE CONTENT ENDS -->
            </div><!-- /.col -->
        </div><!-- /.row -->
    </div><!-- /.page-content -->
</div><!-- /.main-content -->


</div><!-- /.main-container-inner -->

<a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
    <i class="icon-double-angle-up icon-only bigger-110"></i>
</a>
</div><!-- /.main-container -->

<!-- basic scripts -->

<!--[if !IE]> -->

<script src="/assets/js/jquery-2.0.3.min.js"></script>

<!-- <![endif]-->

<!--[if IE]>
<script src="/assets/js/jquery.1.10.2.min.js"></script>
<![endif]-->

<!--[if !IE]> -->

<script type="text/javascript">
    window.jQuery || document.write("<script src='/assets/js/jquery-2.0.3.min.js'>"+"<"+"/script>");
</script>

<!-- <![endif]-->

<!--[if IE]>
<script type="text/javascript">
    window.jQuery || document.write("<script src='/assets/js/jquery-1.10.2.min.js'>"+"<"+"/script>");
</script>
<![endif]-->

<script type="text/javascript">
    if("ontouchend" in document) document.write("<script src='/assets/js/jquery.mobile.custom.min.js'>"+"<"+"/script>");
</script>
<script src="/assets/js/bootstrap.min.js"></script>
<script src="/assets/js/typeahead-bs2.min.js"></script>

<!-- page specific plugin scripts -->
<!-- page specific plugin scripts -->

<script src="/assets/js/jquery.dataTables.min.js"></script>
<script src="/assets/js/jquery.dataTables.bootstrap.js"></script>

<!--<script src="/css/js/jquery.dataTables.min.js"></script>-->
<!--<script src="/css/js/jquery.dataTables.bootstrap.js"></script>-->
<!-- ace scripts -->

<script src="/assets/js/ace-elements.min.js"></script>
<script src="/assets/js/ace.min.js"></script>
<script src="/js/kendo.all.min.js"></script>
<script src="/js/custom/kendomultiselect-filter-plugin.js"></script>
<script src="/js/jquery.cookie.js"></script>

<script style="javascript" th:inline="javascript">

var taskList = /*[[${tasksDone}]]*/[];
var unfinishedtaskList = /*[[${tasksIng}]]*/[];

var missiveSend=/*[[${mainSend}]]*/[];
var missiveCopy=/*[[${copyTo}]]*/[];
var DonePage=/*[[${DonePage}]]*/[];
var taskDoneTotalNum=/*[[${taskDoneTotalNum}]]*/[];
var taskIngPagesNum=/*[[${taskIngPagesNum}]]*/[];
var publishList=/*[[${publishList}]]*/[];
var PublishPageNum=/*[[${PublishPageNum}]]*/[];

var PublishPage=/*[[${PublishPage}]]*/[];
var IngPage=/*[[${IngPage}]]*/[];
var taskId="";
var instantId="";



function judgeReader(){
    swal("good job~!");
}

var validator = $('#selectDelegater').kendoValidator().data("kendoValidator");

//function delegateTask(e){
//    nextTaskId=$(e).attr("data-nextTaskId");
//
//    instantId=$(e).attr("data-instantId");
////         $.ajax({
////            type:'post',
////            url:'/api/getCurrentTaskFlag/'+taskId+'/'+instantId,
////            success:function(result){
////
////               if(result=="true"){
////                   var delegator="追回当前任务"
////                   $.ajax({
////                       type:'post',
////                       url:'/api/taskRollBack/'+taskId+"/"+delegator,
////                       success:function(){
////                           $("#DelegateWin").data("kendoWindow").close();
////                           swal("追回任务成功！");
////                           window.location.reload();
////
////                       },
////                       error:function(){
////                           swal("无法追回当前任务");
////                       }
////
////                   });
////               }
////
////            }
////          });
//    var delegator="追回当前任务"
//    $.ajax({
//        type:'post',
//        url:'/api/taskRollBack/'+nextTaskId+"/"+delegator,
//        success:function(){
//
//            swal("追回任务成功！");
//            window.location.reload();
//
//        },
//        error:function(){
//            swal("无法追回当前任务");
//        }
//
//    });
//
//
//
//
//}
function delegateTask(e){
    taskId=$(e).attr("data-taskId");
    instantId=$(e).attr("data-instantId");
//         $.ajax({
//            type:'post',
//            url:'/api/taskRollBack/'+taskId,
//            success:function(){
//
//                swal("任务回退成功！");
//                window.location.reload();
//
//            }
//          });

    $('#DelegateWin').kendoWindow({
        title: '任务撤回',
        position: {
            top: screen.height / 3,
            left: screen.width / 3
        },
        modal: true

    });
    $("#DelegateWin").data("kendoWindow").open();
}
function closeWin(){
    $("#DelegateWin").data("kendoWindow").close();
}

function submitDelegate(){
    if(validator.validate()){
        var delegator="追回任务：";
        delegator+= $('#selectDelegater').val();
        $.ajax({
            type:'post',
            url:'/api/taskRollBack/'+taskId+"/"+delegator+"/"+instantId,
            success:function(){
                $("#DelegateWin").data("kendoWindow").close();
                swal("任务追回成功！");
                window.location.reload();

            }
        });

    }
}



if(taskList.length==0){
    $('#completeDiv').attr("style","");
}
else{
    $('#displayDiv').attr("style","");
}



if(missiveSend.length==0){
    $('#completeDiv2').attr("style","");
}
else{
    $('#displayDiv2').attr("style","");
}

if(missiveCopy.length==0){
    $('#completeDiv3').attr("style","");
}
else{
    $('#displayDiv3').attr("style","");
}


$("#nav-search-input2").keypress(function(event) {
    if ( event.which == 13 ) {
        event.preventDefault();

        var searchValue=event.currentTarget.value;
        self.location="/fullSearch/"+searchValue;
        //alert(searchValue);
    }
});

$("#nav-search-input3").keypress(function(event) {
    if ( event.which == 13 ) {
        event.preventDefault();

        var searchValue=event.currentTarget.value;
        self.location="/fullSearch/"+searchValue;
        //alert(searchValue);
    }
});

$("#nav-search-input4").keypress(function(event) {
    if ( event.which == 13 ) {
        event.preventDefault();

        var searchValue=event.currentTarget.value;
        self.location="/fullSearch/"+searchValue;
        //alert(searchValue);
    }
});
//搜索监听
$("#nav-search-input").keypress(function(event) {
    if ( event.which == 13 ) {
        event.preventDefault();

        var searchValue=event.currentTarget.value;
        if(searchValue==""){
            swal("请在搜索框输入关键字！");

        }else{
            self.location="/fullSearch/"+searchValue;

        }            //alert(searchValue);
    }

});

function trSelect(){
    var tbl = document.getElementById("taskTable");
    for(var i = 1; i < tbl.rows.length; i++){
        tbl.rows[i].onclick =function(){
            if(window.cur) window.cur.style.background = "#FFF";
            this.style.background = "#7DB4D8";
            window.cur = this;
        }
    }
}

function changePage(vi){
    if(vi.value>taskDoneTotalNum||vi.value<1){

        var warnning="请输入1到"+taskDoneTotalNum+"之间的页数";
        swal({title:'错误提示',text:warnning,type:'error',confirmButtonText:'确定'});
        //swal("请输入1到"+taskDoneTotalNum+"之间的页数");
    }else{
        var pageNum=vi.value;
        window.location.href="/wdgw/ybgw/"+pageNum+"/1/1/1";
    }


}

function changePage2(vi){
    if(vi.value>taskIngPagesNum||vi.value<1){

        var warnning="请输入1到"+taskIngPagesNum+"之间的页数";
        swal({title:'错误提示',text:warnning,type:'error',confirmButtonText:'确定'});
        //swal("请输入1到"+taskDoneTotalNum+"之间的页数");
    }else{
        var pageNum=vi.value;
        window.location.href="/wdgw/wbgw/1/"+pageNum+"/1/1";
    }


}
function changePage3(vi){
    if(vi.value>PublishPageNum||vi.value<1){

        var warnning="请输入1到"+PublishPageNum+"之间的页数";
        swal({title:'错误提示',text:warnning,type:'error',confirmButtonText:'确定'});
        //swal("请输入1到"+taskDoneTotalNum+"之间的页数");
    }else{
        var pageNum=vi.value;
        window.location.href="/wdgw/yfgw/1/1/1/1/"+pageNum;
    }


}

jQuery(function ($) {
    if(taskDoneTotalNum>=5){
        $("#lessThanFive").attr("style","display:none");
    }else if(taskDoneTotalNum<5){
        $("#moreThanFive").attr("style","display:none");

    }
    if (DonePage == 2) {

        //$("#start").attr("style", "display:none");
        $("#first").attr("style", "display:none");
        $("#front").attr("style","display:none");
        $("#pre").attr("style", "display:none");
        $("#final").attr("style", "display:none");

    }
    else if (DonePage == 1) {

        $("#start").attr("style", "display:none");
        $("#firstPage").attr("style", "display:none");
        $("#first").attr("style", "display:none");
        $("#front").attr("style","display:none");
        $("#pre").attr("style","display:none");


    }
    else if (DonePage == (taskDoneTotalNum - 1)) {

       // $("#end").attr("style", "display:none");
        $("#last").attr("style", "display:none");
        $("#pre").attr("style","display:none");
        $("#rear").attr("style", "display:none");
        $("#final").attr("style", "display:none");



    }
    else if (DonePage == taskDoneTotalNum) {
        $("#end").attr("style", "display:none");
        $("#last").attr("style", "display:none");
        $("#lastPage").attr("style", "display:none");
       // $("#front").attr("style","display:none");
        $("#rear").attr("style", "display:none");
        $("#final").attr("style", "display:none");

    }else{
        $("#front").attr("style","display:none");
        $("#pre").attr("style","display:none");
        $("#rear").attr("style", "display:none");
        $("#final").attr("style", "display:none");

    }
//    $("#first").attr("style", "display:none");
//    $("#last").attr("style", "display:none");

    if(taskIngPagesNum>=5){
        $("#lessfive").attr("style","display:none");
    }else if(taskIngPagesNum<5){
        $("#overfive").attr("style","display:none");

    }
    if (IngPage == 2) {

        //$("#start").attr("style", "display:none");
        $("#first1").attr("style", "display:none");
        $("#front1").attr("style","display:none");
        $("#pre1").attr("style", "display:none");
        $("#final1").attr("style", "display:none");

    }
    else if (IngPage == 1) {

        $("#start1").attr("style", "display:none");
        $("#firstPage1").attr("style", "display:none");
        $("#first1").attr("style", "display:none");
        $("#front1").attr("style","display:none");
        $("#pre1").attr("style","display:none");


    }
    else if (IngPage == (taskIngPagesNum - 1)) {

        // $("#end").attr("style", "display:none");
        $("#last1").attr("style", "display:none");
        $("#pre1").attr("style","display:none");
        $("#rear1").attr("style", "display:none");
        $("#final1").attr("style", "display:none");



    }
    else if (IngPage == taskIngPagesNum) {
        $("#end1").attr("style", "display:none");
        $("#last1").attr("style", "display:none");
        $("#lastPage1").attr("style", "display:none");
        // $("#front").attr("style","display:none");
        $("#rear1").attr("style", "display:none");
        $("#final1").attr("style", "display:none");

    }else{
        $("#front1").attr("style","display:none");
        $("#pre1").attr("style","display:none");
        $("#rear1").attr("style", "display:none");
        $("#final1").attr("style", "display:none");

    }




    if(PublishPageNum>=5){
        $("#lessfive3").attr("style","display:none");
    }else if(PublishPageNum<5){
        $("#overfive3").attr("style","display:none");

    }
    if (PublishPage == 2) {

        //$("#start").attr("style", "display:none");
        $("#first3").attr("style", "display:none");
        $("#front3").attr("style","display:none");
        $("#pre3").attr("style", "display:none");
        $("#final3").attr("style", "display:none");

    }
    else if (PublishPage == 1) {

        $("#start3").attr("style", "display:none");
        $("#firstPage3").attr("style", "display:none");
        $("#first3").attr("style", "display:none");
        $("#front3").attr("style","display:none");
        $("#pre3").attr("style","display:none");


    }
    else if (PublishPage == (PublishPageNum - 1)) {

        // $("#end").attr("style", "display:none");
        $("#last3").attr("style", "display:none");
        $("#pre3").attr("style","display:none");
        $("#rear3").attr("style", "display:none");
        $("#final3").attr("style", "display:none");



    }
    else if (PublishPage == PublishPageNum) {
        $("#end3").attr("style", "display:none");
        $("#last3").attr("style", "display:none");
        $("#lastPage3").attr("style", "display:none");
        // $("#front").attr("style","display:none");
        $("#rear3").attr("style", "display:none");
        $("#final3").attr("style", "display:none");

    }else{
        $("#front3").attr("style","display:none");
        $("#pre3").attr("style","display:none");
        $("#rear3").attr("style", "display:none");
        $("#final3").attr("style", "display:none");

    }


});


$("#filterData").keypress(function(event) {
    if ( event.which == 13 ) {
        event.preventDefault();
        var searchValue = event.currentTarget.value;
        if (searchValue != "") {

            $.ajax({
                url: "/api/searchByword/getMissiveList",
                data: {data: searchValue},
                success: function (result) {

                    $("#completedTable").attr("style","display:none");
                    $("#secondDiv").attr("style", "");
                    $("#filterTable").empty(); //清空列表
                    var head = "<thead><tr><th style='text-align: center;vertical-align:middle'>公文类型</th><th style='text-align: center;vertical-align:middle'>任务名称</th><th style='text-align: center;vertical-align:middle'>公文标题</th><th style='text-align: center;vertical-align:middle'>任务时间</th><th style='text-align: center;vertical-align:middle'> 操作</th></tr></thead>";
                    $("#filterTable").append(head);

                    for (var i = 0; i < result.length; i++) {

                        var missiveUrl="http://16.64.36.50";
                        var MissiveFlag=result[i].cardTitle;
                        var htmlText=result[i].htmlUrl;
                        var HistoryMissiveLink="/historyProcess/"+result[i].processInstanceId;
                        var Type=result[i].missiveType;
                        var InstantID=result[i].processInstanceId;
                        var versionID=result[i].versionNum;
                        var TtaskID= result[i].lastTaskId;
                        var attrValue="data-taskId="+result[i].id+",data-instantId="+result[i].processInstanceId+",data-nextTaskId="+result[i].nextTaskId;
                        var styleSample="";
                        if(!result[i].rollBackFlag){
                            styleSample="display:none"
                        }
                        var pdfLink="/pdfViewer/web/viewer.html?file=/pdf/"+Type+"/"+InstantID+"/"+versionID+"/pdf2Pad/"+TtaskID+".pdf";
                        var tr = "<tr  style='height:50px'>";
                        tr += "<td style='text-align: center;vertical-align:middle'>" + result[i].typeTitle + "</td>";
                        tr += "<td style='text-align: center;vertical-align:middle'>" + result[i].name + "</td>"
                        tr += "<td style='text-align: center;vertical-align:middle'>" + result[i].missiveTitle + "</td>";
                        tr += "<td style='text-align: center;vertical-align:middle;width: 200px'>" + result[i].taskEndTime + "</td>";
                        tr += "<td style='text-align: center;vertical-align:middle;width: 410px'> <a href='"+HistoryMissiveLink+"' target='_blank' class='btn btn-minier bigger btn-success'><i class='icon-check'></i>任务信息</a>&nbsp";
                        tr += "<a href='"+htmlText+"' target='_blank' class='btn btn-minier bigger btn-warning'><i class='icon-check'></i>"+MissiveFlag+"</a>&nbsp";
                        tr += "<a href='"+pdfLink+"' class='btn btn-minier bigger btn-primary' target='_blank'><i class='icon-check'></i>查看公文</a>&nbsp";
                        tr +=" <a class='btn btn-minier bigger btn-danger' attr='data-taskId='"+result[i].id+"'',data-instantId='"+attrValue+"' disabled='"+result[i].rollBackFlag+"' style='"+styleSample+"'  onclick='delegateTask(this)'><i class='icon-check'></i>任务回退</a></td>"
                        tr += "</tr>";

                        $("#filterTable").append($(tr));
                    } //end for emplo



                }
            });
        } else {

            $("#completedTable").attr("style","");
            $("#secondDiv").attr("style", "display:none");
            // swal("请在搜索框输入关键字！");
        }
    }

});


$("#filterData2").keypress(function(event) {
    if ( event.which == 13 ) {
        event.preventDefault();
        var searchValue = event.currentTarget.value;
        if (searchValue != "") {

            $.ajax({
                url: "/api/searchByword/getUnfinishedList",
                data: {data: searchValue},
                success: function (result) {


                    $("#firstDiv2").attr("style","display:none");
                    $("#secondDiv2").attr("style", "");
                    $("#filterTable2").empty(); //清空列表
                    var head = "<thead><tr><th style='text-align: center;vertical-align:middle;width:120px'>公文类型</th><th style='text-align: center;vertical-align:middle;width: 110px'>任务人</th><th style='text-align: center;vertical-align:;width: 180px'>当前进行任务</th><th style='text-align: center;vertical-align:middle'>公文标题</th><th style='text-align: center;vertical-align:middle;width: 120px'>任务时间</th><th style='text-align: center;vertical-align:middle;width: 160px'> 操作</th></tr></thead>";
                    $("#filterTable2").append(head);

                    for (var i = 0; i < result.length; i++) {

                        var missiveUrl="http://16.64.36.50";
                        var MissiveFlag=result[i].cardTitle;
                        var htmlText=result[i].htmlUrl;
                        var HistoryMissiveLink="/historyProcess/"+result[i].processInstanceId;
                        var Type=result[i].missiveType;
                        var InstantID=result[i].processInstanceId;
                        var versionID=result[i].versionNum;
                        var taskID= result[i].lastTaskId;
                        var attrValue="data-taskId="+result[i].id+",data-instantId="+result[i].processInstanceId+",data-nextTaskId="+result[i].nextTaskId;
                        var styleSample="";
                        if(!result[i].rollBackFlag){
                            styleSample="display:none"
                        }
                        var pdfLink="/pdfViewer/web/viewer.html?file=/pdf/"+Type+"/"+InstantID+"/"+versionID+"/pdf2Pad/"+taskID+".pdf";
                        var tr = "<tr  style='height:50px'>";
                        tr += "<td style='text-align: center;vertical-align:middle'>" + result[i].typeTitle + "</td>";
                        tr += "<td style='text-align: center;vertical-align:middle'>" + result[i].taskAssName + "</td>"
                        tr += "<td style='text-align: center;vertical-align:middle'>" + result[i].taskCondition + "</td>";
                        tr += "<td style='text-align: center;vertical-align:middle'>" + result[i].missiveTitle + "</td>";
                        tr += "<td style='text-align: center;vertical-align:middle;width: 200px'>" + result[i].taskEndTime + "</td>";
                        tr += "<td style='text-align: center;vertical-align:middle;width: 220px'> <a href='"+HistoryMissiveLink+"' target='_blank' class='btn btn-minier bigger btn-success'><i class='icon-check'></i>任务信息</a>&nbsp";
                        tr += "<a href='"+pdfLink+"' class='btn btn-minier bigger btn-primary' target='_blank'><i class='icon-check'></i>查看公文</a>&nbsp";
                        tr += "</tr>";

                        $("#filterTable2").append($(tr));
                    } //end for emplo



                }
            });
        } else {

            $("#firstDiv2").attr("style","");
            $("#secondDiv2").attr("style", "display:none");
            // swal("请在搜索框输入关键字！");
        }
    }

});



$("#filterData3").keypress(function(event) {
    if ( event.which == 13 ) {
        event.preventDefault();
        var searchValue = event.currentTarget.value;
        if (searchValue != "") {

            $.ajax({
                url: "/api/searchByword/getPublishList",
                data: {data: searchValue},
                success: function (result1) {


                    $("#firstDiv3").attr("style","display:none");
                    $("#secondDiv3").attr("style", "");
                    $("#filterTable3").empty(); //清空列表
                    var head = "<thead><tr><th style='text-align: center;vertical-align:middle;width:120px'>公文类型</th><th style='text-align: center;vertical-align:;width: 180px'>当前进行任务</th><th style='text-align: center;vertical-align:middle'>公文标题</th><th style='text-align: center;vertical-align:middle;width: 120px'>任务时间</th><th style='text-align: center;vertical-align:middle;width: 160px'> 操作</th></tr></thead>";
                    $("#filterTable3").append(head);

                    for (var i = 0; i < result1.length; i++) {

                        var missiveUrl="http://16.64.36.50";
                        var MissiveFlag=result1[i].cardTitle;
                        var htmlText=result1[i].htmlUrl;
                        var HistoryMissiveLink="/historyProcess/"+result1[i].processInstanceId;
                        var Type=result1[i].missiveType;
                        var InstantID=result1[i].processInstanceId;
                        var versionID=result1[i].versionNum;
                        var taskID= result1[i].lastTaskId;
                        var attrValue="data-taskId="+result1[i].id+",data-instantId="+result1[i].processInstanceId+",data-nextTaskId="+result1[i].nextTaskId;
                        var styleSample="";
                        if(!result1[i].rollBackFlag){
                            styleSample="display:none"
                        }
                        var pdfLink="/pdfViewer/web/viewer.html?file=/pdf/"+Type+"/"+InstantID+"/"+versionID+"/pdf2Pad/"+taskID+".pdf";
                        var tr = "<tr  style='height:50px'>";
                        tr += "<td style='text-align: center;vertical-align:middle'>" + result1[i].typeTitle + "</td>";
                        tr += "<td style='text-align: center;vertical-align:middle'>流程已结束</td>";
                        tr += "<td style='text-align: center;vertical-align:middle'>" + result1[i].missiveTitle + "</td>";
                        tr += "<td style='text-align: center;vertical-align:middle;width: 200px'>" + result1[i].taskEndTime + "</td>";
                        tr += "<td style='text-align: center;vertical-align:middle;width: 220px'> <a href='"+HistoryMissiveLink+"' target='_blank' class='btn btn-minier bigger btn-success'><i class='icon-check'></i>任务信息</a>&nbsp";
                        tr += "<a href='"+pdfLink+"' class='btn btn-minier bigger btn-primary' target='_blank'><i class='icon-check'></i>查看公文</a>&nbsp";
                        tr += "</tr>";

                        $("#filterTable3").append($(tr));
                    } //end for emplo



                }
            });
        } else {

            $("#firstDiv3").attr("style","");
            $("#secondDiv3").attr("style", "display:none");
            // swal("请在搜索框输入关键字！");
        }
    }

});



//jQuery(function ($) {
//    var oTable1 = $("#filterTable").dataTable({
//        "aoColumns": [
//            { "bSortable": true },
//            { "bSortable": false },
//            { "bSortable": false },
//            { "bSortable": true },
//            { "bSortable": false }
//        ] });
//
//
//    $('table th input:checkbox').on('click', function () {
//        var that = this;
//        $(this).closest('table').find('tr > td:first-child input:checkbox')
//                .each(function () {
//                    this.checked = that.checked;
//                    $(this).closest('tr').toggleClass('selected');
//                });
//
//    });
//
//
//    $('[data-rel="tooltip"]').tooltip({placement: tooltip_placement});
//    function tooltip_placement(context, source) {
//        var $source = $(source);
//        var $parent = $source.closest('table')
//        var off1 = $parent.offset();
//        var w1 = $parent.width();
//
//        var off2 = $source.offset();
//        var w2 = $source.width();
//
//        if (parseInt(off2.left) < parseInt(off1.left) + parseInt(w1 / 2)) return 'right';
//        return 'left';
//    }
//});

function trSelectforTask(){
    var tbl = document.getElementById("uncompleteTable");
    for(var i = 1; i < tbl.rows.length; i++){
        tbl.rows[i].onclick =function(){
            if(window.cur) window.cur.style.background = "#FFF";
            this.style.background = "#7DB4D8";
            window.cur = this;
        }
    }
}

function ttrSelectforTask(){
    var tbl = document.getElementById("uncompleteTable4");
    for(var i = 1; i < tbl.rows.length; i++){
        tbl.rows[i].onclick =function(){
            if(window.cur) window.cur.style.background = "#FFF";
            this.style.background = "#7DB4D8";
            window.cur = this;
        }
    }
}

//jQuery(function ($) {
//    var oTable1 = $("#uncompleteTable").dataTable({
////            "pagingType":   "iFullNumbersShowPages",
//
//
//        "aoColumns": [
////                { "bSortable": false },
//            { "bSortable": true },
//            { "bSortable": true },
//            { "bSortable": true },
//            { "bSortable": true },
//            { "bSortable": true },
//            { "bSortable": false }
//        ],
//        "fnDrawCallback": function(){
//            var oTable = $("#uncompleteTable").dataTable();
//            $('#redirect').keyup(function(e){
//                if($(this).val() && $(this).val()>0){
//                    var redirectpage = $(this).val()-1;
//                }else{
//                    var redirectpage = 0;
//                }
//                oTable.fnPageChange( redirectpage );
//            });
//        }
//
//
//
//
//    });
//
//
//    $('table th input:checkbox').on('click', function () {
//        var that = this;
//        $(this).closest('table').find('tr > td:first-child input:checkbox')
//                .each(function () {
//                    this.checked = that.checked;
//                    $(this).closest('tr').toggleClass('selected');
//                });
//
//    });
//
//
//    $('[data-rel="tooltip"]').tooltip({placement: tooltip_placement});
//    function tooltip_placement(context, source) {
//        var $source = $(source);
//        var $parent = $source.closest('table')
//        var off1 = $parent.offset();
//        var w1 = $parent.width();
//
//        var off2 = $source.offset();
//        var w2 = $source.width();
//
//        if (parseInt(off2.left) < parseInt(off1.left) + parseInt(w1 / 2)) return 'right';
//        return 'left';
//    }
//});


</script>

<style>

    .table-hover > tbody > tr:hover > td,
    .table-hover > tbody > tr:hover > th {
        background-color: #f5f5f5;
    }
</style>

</body>
</html>
